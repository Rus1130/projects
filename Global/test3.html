<style>
    #input {
        width: 50%;
        height: 100%;
        border-right: 1px black solid;
        white-space: pre-wrap;
        display: inline-block
    }

    #input:focus {
        outline: none;
    }

    #output {
        width: 50%;
        height: 100%;
        border-left: 1px black solid;
        display: inline-block;
    }

    body {
        display: flex;
        margin: 0;
    }
</style>
<head>
    <script src="./markdownParser.js"></script>
    <script src="./helper.js"></script>
</head>
<body>
    <div id="input" contenteditable>edit here... write toc=true on the first line to add table of contents</div>
    <div id="output"></div>
</body>
<script>

    let input = document.getElementById("input");
    let output = document.getElementById("output");

    input.addEventListener("focus", function(){
        if(input.innerText == "edit here... write toc=true on the first line to add table of contents") input.innerText = "";
    })

    input.addEventListener("blur", function(){
        if(input.innerText == "") input.innerText = "edit here... write toc=true on the first line to add table of contents";
    })

    input.addEventListener("input", function(){
        output.innerHTML = "";

        new MarkdownParser("text",input.innerText).credits(false, true)
        .element(output)
        .toc(input.innerText.split("\n")[0] == "toc=true")
        .generate()
        .open("element")

        output.innerHTML = output.innerHTML.replace(/toc=true/g, "")
    });

</script>