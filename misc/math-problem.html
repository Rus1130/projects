<style>
    #chart {
        border: 1px solid black;
        display: inline-block;
    }
</style>
<head>
    
</head>
<body>
    <div id="chart"></div>
</body>
<script type="module">
    import { Chart } from 'https://rus1130.github.io/projects/another-chart-library/main.js'

    function makeNumber(n) {
        let result = [];
        result.push(n);
        while(n != 1){
            if(n % 2 == 0){
                n = n / 2;
            } else {
                n = 3 * n + 1;
            }
            result.push(n);
        }
        return result;
    }

    async function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    for(let num = 2; num <= 31; num++){
        let line = new Chart('line')
        .appendTo('#chart')
        .setData(`number: ${num}`, 'Y', 'X', 100, 100, [
            {
                color: 'red',
                label: 'number',
                pointRadius: 3.5,
                lineWidth: 1,
                pointLabels: true,
                hoverPointRadius: 5,
                points: new Array(makeNumber(num).length).fill(0).map((_, i) => [i+1, makeNumber(num)[i]])
            }
        ])

        console.log(line)

        await sleep(1000);
        document.getElementById('chart').innerHTML = '';
    }

        
</script>