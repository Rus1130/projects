<style>
    #in {
        width: 500px;
        height: 500px;
        resize: none;
    }

    #in:focus {
        outline: none;
    }
</style> 
<head>

</head>
<body>
    <textarea id="in"></textarea>
</body> 
<script src="./main.js"></script>
<script src="../Global/math.js"></script>
<script>
    const input = document.getElementById("in");
    // input.textContent = `num x = 10203@\nstr y = "Hello," . x . 'World!'>length\nout y>index(3)`;
    input.textContent = `out !"hello"\nout "goodbye">length>type\nout "meow">replace(3>type, hello)`;

    input.addEventListener("keydown", (e) => {
        if(e.key === "Tab"){
            e.preventDefault();
            let start = input.selectionStart;
            let end = input.selectionEnd;

            input.value = input.value.substring(0, start) + "    " + input.value.substring(end);
            input.selectionStart = input.selectionEnd = start + 4;
        }
    });

    const fs3 = new FroggyScript3({
        warnout: (warn) => {
            console.warn(`${warn.type}\n\n${warn.message}\n    at line ${warn.line+1}\n    at column ${warn.col+1}`)
        }
    });

    const lines = input.textContent.split("\n");

    console.log(fs3.tokenize(lines));

</script>